<ui:composition template="masterTemplate.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets" 
    xmlns:p="http://primefaces.org/ui">
   
    <ui:define name="title">Ã„hnliche Artikel</ui:define>
	
    <ui:define name="content">
       <f:event type="preRenderView" listener="#{amb.onPageLoadIndex}"/>
       <h:body>
		<h:dataTable id="table" value="#{amb.clusterList}" var="cluster">
    		<h:column>
    		    <f:facet name="header"> Artikel </f:facet>
    			<details>
      		   		<summary>
      		   			#{cluster.topArticle.title} | 
      		     		<h:outputLink value="#{cluster.topArticle.link}">Link</h:outputLink> | 
      		     		<h:graphicImage value="#{cluster.topArticle.logo}" />
      		     	</summary>
      		     	<h:dataTable  value="#{cluster.articles}" var="article">
    					<h:column>
    						#{article.title} | 
    						<h:outputLink value="#{article.link}">Link</h:outputLink> | 
      		     			<h:graphicImage value="#{article.logo}" />
    						<br />
    					</h:column>
					</h:dataTable>
      		     </details>
    		</h:column>
		</h:dataTable>
	   </h:body>
   	</ui:define>
   	
</ui:composition>